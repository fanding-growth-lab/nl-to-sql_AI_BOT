[
    {
        "category": "common",
        "title": "Data Relationship Summary",
        "content": "- Creator's name can be found in `t_member.nickname`.\n- `t_member.no` joins with `t_creator.member_no`.\n- `t_creator.no` joins with `t_payment.seller_creator_no`.\n- `t_fanding_log.coupon_member_no` joins with `t_creator_coupon_member.no` to check for coupon usage.\n- `t_post.member_no` represents the Creator (Uploader).\n- `t_post_view_log.member_no` represents the Viewer."
    },
    {
        "category": "common",
        "title": "Aggregation Timeframes",
        "content": "- Daily: 00:00:00 to 23:59:59. Snapshot at 23:59:59.\n- Weekly: Monday 00:00:00 to Sunday 23:59:59. Snapshot at Sunday 23:59:59.\n- Monthly: First day of the month 00:00:00 to last day of the month 23:59:59. Snapshot at last day 23:59:59."
    },
    {
        "category": "sql",
        "title": "Data Query Scope (CRITICAL for Continuity)",
        "content": "- Historical Data Requirement: To correctly identify whether a block starting on the 1st of the target month is a \"New\" subscription or a \"Renewal\", you MUST query data starting at least 1 month prior to the target analysis start date."
    },
    {
        "category": "common",
        "title": "Payment Data Rules",
        "content": "- Completed Payment: `status` is NOT 'W' (Waiting) or 'F' (Failed), and `pay_datetime` is not NULL.\n- Refund: `status` is 'R' (Full Refund) or 'P' (Partial Refund).\n  - 'R' (Full Refund): The member is considered to have no experience, and the payment is excluded from the installment count.\n  - 'P' (Partial Refund): The member has some experience, and the payment is included in the installment count.\n- Actual sales amount must be calculated using `remain_price`. The `price` column should NOT be used.\n- When analyzing sales, you must include statuses 'T' (Approved) and 'P' (Partially Refunded).\n- Currency Conversion:\n  - For KRW (currency_no = 1): use `remain_price`.\n  - For USD (currency_no = 2): use `remain_price` * 1360.\n  - For HEAT (currency_no is NULL): use `remain_heat` * 110."
    },
    {
        "category": "common",
        "title": "Post & Activity Analysis Rules",
        "content": "- **Content Validity (Deleted Posts)**: When querying `t_post` or joining with `t_post_view_log`, YOU MUST exclude deleted posts to prevent overcounting.\n  - **Logic**: `t_post.del_datetime` IS NULL.\n- **Audience Validity (No Self-Views)**: When calculating \"Visitors\", \"Views\", or \"Visit Rate\", you MUST exclude the Creator's own activity.\n  - **Logic**: `t_post_view_log.member_no` (Viewer) != `t_post.member_no` (Creator).\n- **Visit Rate Calculation**:\n  - Numerator: Unique Viewers (excluding Creator).\n  - Denominator: Total Active Members (at snapshot)."
    },
    {
        "category": "common",
        "title": "Activity & Engagement Metric Definitions",
        "content": "- **Average Daily Visitors (Monthly)**:\n  - **Definition**: The average of **Daily Active Users (DAU) = Post View Users** over the month.\n- **Visit Rate (%)**:\n  - **Definition**: The percentage of *Active Paid Members* who viewed a post at least once during the month.\n- **Top Posts (Monthly)**:\n  - **Definition**: The top 5 posts **uploaded/created within the target month**, ranked by their unique visitor count."
    }
]